// Generated by CoffeeScript 1.10.0
(function() {
  module.exports = [
    {
      name: "newline-and-indent",
      description: "enter a newline and indent to be aligned with previous line",
      handler: function(editor) {
        var child, cursor, indent, ref;
        cursor = editor.buffer.cursor;
        if (!((ref = cursor.target) != null ? ref.sortOf("Code") : void 0)) {
          return false;
        }
        if (child = cursor.target.getChildTextByOffset(cursor.anchor.index)) {
          if (child.sortOf("Spell")) {
            return false;
          }
        }
        indent = "";
        (function() {
          var cs, results;
          cursor.state.save();
          cursor.anchor.startOfLine({
            begin: true
          });
          cs = cursor.target.contentString;
          if (!cs) {
            return false;
          }
          results = [];
          while (cs[cursor.anchor.index] === " ") {
            indent += " ";
            results.push(cursor.anchor.index += 1);
          }
          return results;
        })();
        cursor.state.restore();
        if (indent.length > 0) {
          cursor.conduct("write", "\n" + indent);
          return true;
        }
        return false;
      }
    }
  ];

}).call(this);
